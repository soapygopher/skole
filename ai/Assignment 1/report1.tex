\documentclass[letterpaper, 12pt]{article}

\usepackage[english]{custompack}
\usepackage{fullpage}
%\usepackage{hyperref}
%\usepackage{abcproblem}
\usepackage{listings}
%\renewcommand{\thesubsection}{\alph{subsection}}

%\allowdisplaybreaks
\numberwithin{theorem}{section}

% (fold)
\lstset{ 
	basicstyle=\ttfamily\footnotesize,
	keywordstyle=\color{blue}, 
	commentstyle=\color{gray}, 
	stringstyle=\color{darkgreen}, 
	emphstyle=\color{purple},
	%identifierstyle=, %vanlige ting
	numbers=left, 
	numberstyle=\footnotesize\ttfamily\color{gray}, 
	numbersep=1em,
	stepnumber=1, 
	%firstnumber=last, % dersom listingen deles i to, forsett der man slapp
	firstnumber=1,
	showspaces=false, 
	showstringspaces=false,
	captionpos=b,
	%frame=single,
	breakatwhitespace,
	breaklines=true, 
	tabsize=4,
	% python-spesifikt: 
	language=python,
	morekeywords={None, True, False, with, as, yield, self}, 
	emph={tuple, int, append, raw_input, upper, map, reduce, filter, len, str, open, hex, bin, format, range, xrange, title, strip, split, pop, join, min, max, sum, chr, set, list, sort, sorted, reversed, enumerate, ValueError, TypeError, IndexError, dict, zip, ord, any, all, count, Exception, __init__, __str__, __repr__, __class__, __name__, KeyboardInterrupt, hash, items, add, lower, upper, float}
}
% (end)

\title{\textbf{Assignment 1}}
\author{HÃ¥kon Mork \\ ESCE 526 Artificial Intelligence}
\date{\today}

\begin{document}
\maketitle
\noindent

\section{}
\subsection{Number of states visited with simple heuristic}
Game A:
\begin{table}[h]
	\centering
	\small
	\begin{tabular}{lrrrr}
		Cutoff depth & 3 & 4 & 5 & 6 \\
		\midrule
		Minmax & 77,445 & 1,276,689 & underway:8 & underway:10 \\
		$\alpha$-$\beta$ pruning & 4129 & 48,203 & 694,652 & underway:9 \\
		\midrule
		Improvement & $\times$18.76 & $\times$26.49 & & ?
	\end{tabular}
\end{table}

\noindent Game B:
\begin{table}[h]
	\centering
	\small
	\begin{tabular}{lrrrr}
		Cutoff depth & 3 & 4 & 5 & 6 \\
		\midrule
		Minmax & 98,345 & 1,704,319 & underway:12 & underway:14 \\
		$\alpha$-$\beta$ pruning & 6421 & 96,884 & 1,683,194 & underway:7 \\
		\midrule
		Improvement & $\times$15.32 & $\times$17.59 & & ?
	\end{tabular}
\end{table}

\noindent Game C:
\begin{table}[h]
	\centering
	\small
	\begin{tabular}{lrrrr}
		Cutoff depth & 3 & 4 & 5 & 6 \\
		\midrule
		Minmax & 69,954 & 1,237,535 & underway:11 & underway:13 \\
		$\alpha$-$\beta$ pruning & 3763 & 51,098 & 840,633 & underway:6 \\
		\midrule
		Improvement & $\times$18.59 & $\times$24.22 & & ?
	\end{tabular}
\end{table}

In my code I consider the children of the current state to be on cutoff level 0; their children, i.e., the grandchildren of the current state, are on level 1, and so on.\footnote{If the current state's children should instead be regarded as being on level 1, the values in the tables above should be shifted one column to the right.} The heuristic evaluation of the node is returned when the depth reaches the limit given by the \texttt{--cutoff} argument. 

\subsection{Does state generation order matter?}
My evaluation function iterates through the successor states in the order they were generated: left-to-right, top-to-bottom, with the directions generated in the (arbitrary) order north-east-south-west. I considered the first move in game A and ran\footnote{The commands given were \texttt{python ass1.py --input starta.txt --cutoff 3 --alg ab --count --shuffle}. See the appendix for details on usage.} alpha-beta pruning five times with a cutoff depth of 3, shuffling the list of successor states randomly every time one is generated. (Since the minmax algorithm does not prune the game tree at all, the order in which it evaluates successors is irrelevant.) Alpha-beta pruning with the non-shuffled evaluation order visited 4129 states, as per the table above. 

I found that evaluation order \emph{did} matter, though not impressively so. The sample runs visited 4480, 4338, 4324, 4114, and 4376 states, respectively, for an average of 4326 states, which is $4.77\%$ more than the non-shuffled case. The maximum deviations were $8.5\%$ more and $0.36\%$ fewer states visited than the original order. I also tried evaluating states in the reverse order; the difference was negligble. This suggests that there is no significant benefit to be gained by shuffling; in fact, we see that more states were visited with alternative evaluation orders than with the original sequence. I don't know if this is a coincidence or if the order I picked is somehow optimal.


\section{}
\subsection{Choice of evaluation function}

\subsection{Number of states visited with advanced heuristic}

\subsection{Tradeoff between evaluation function and game tree depth}
My evaluation function is not particularly efficient. It does 


\clearpage
\appendix
\section{Appendix: Source code}
%\subsection{Implementation comments}
%I consider the successors of the current state to be on cutoff level 0, and pass a depth parameter to the alpha-beta and minmax algorithms. This depth parameter is incremented for each ply in the recursion tree until the given cutoff limit is hit, at which point the heuristic evaluation of that state is returned.

\subsection{Usage}
All arguments are optional:
\begin{itemize}
	\item \texttt{-i} or \texttt{--input}: Specify an input file to be used as the initial game state. A plain-text file following the notation used in the assignment is expected. Defaults to the example illustrated in the ``Introduction'' part of the assignment text.
	\item \texttt{-u} or \texttt{--human}: The computer should play against a human adversary, not just against itself. The user will be prompted for input when it is their turn to play.
	\item \texttt{-c} or \texttt{--cutoff}: Specify a cutoff depth. Defaults to 3.
	\item \texttt{-a} or \texttt{--alg}: Specify which of the minmax or alpha-beta pruning algorithms is to be used. May take values \texttt{mm} or \texttt{ab}. Defaults to alpha-beta pruning.
	\item \texttt{-l} or \texttt{--log}: A log file should be written on exit.
	\item \texttt{-k} or \texttt{--count}: Count the number of states visited.
	\item \texttt{-s} or \texttt{--shuffle}: Shuffle the list of successor states before evaluating them. 
\end{itemize}
Example: \texttt{python ass1.py --input file.txt --alg ab --human --log}

\subsection{Listing}
The code that was run in class was liberally sprinkled with logging statements and other debugging aids. I've removed all that from this listing for the sake of legibility.
\lstinputlisting{./ass1.py}

\end{document}
